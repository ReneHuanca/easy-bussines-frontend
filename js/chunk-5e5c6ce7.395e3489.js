(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e5c6ce7"],{2999:function(t,e,a){"use strict";a.r(e);var i=function(){var t,e=this,a=e.$createElement,i=e._self._c||a;return i("v-container",{attrs:{id:"regular-tables",fluid:"",tag:"section"}},[i("base-material-snackbar",e._b({attrs:{type:e.alert.color},model:{value:e.alert.state,callback:function(t){e.$set(e.alert,"state",t)},expression:"alert.state"}},"base-material-snackbar",(t={},t[e.alert.x]=!0,t[e.alert.y]=!0,t),!1),[e._v(" "+e._s(e.alert.text)+" ")]),i("base-v-component",{attrs:{heading:"Administrar Ventas",link:"components/simple-tables"}}),i("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"primary",icon:"mdi-currency-usd-circle",title:"VENTAS"}},[i("v-data-table",{attrs:{headers:e.headers,items:e.sales,search:e.search,id:"dtSales"},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{staticClass:"mt-6 toolbar",attrs:{flat:""}},[i("v-spacer"),i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),i("v-spacer"),i("v-btn",{attrs:{color:"indigo",to:"/dashboard/sales/create"}},[i("v-icon",{attrs:{color:"white",left:""}},[e._v("mdi-plus")]),e._v(" REALIZAR VENTA ")],1)],1)]},proxy:!0},{key:"item.unit_price",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.unit_price)+" "),i("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.currency))])]}},{key:"item.total",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.total)+" "),i("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.currency))])]}},{key:"item.actions",fn:function(t){var a=t.item;return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({attrs:{color:"elevation-2 info mx-2",small:""},on:{click:function(t){return e.showSale(a)}}},"v-btn",s,!1),n),[i("v-icon",[e._v(" mdi-eye ")])],1)]}}],null,!0)},[i("span",[e._v("Mostrar")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[i("v-btn",e._g(e._b({staticClass:"elevation-2 mx-2",attrs:{color:"red",small:""},on:{click:function(t){return e.openModalDelete(a.id)}}},"v-btn",s,!1),n),[i("v-icon",[e._v(" mdi-delete ")])],1)]}}],null,!0)},[i("span",[e._v("Eliminar")])])]}},{key:"no-data",fn:function(){return[i("v-btn",{attrs:{color:"primary"},on:{click:e.loadSales}},[e._v("Actualizar")])]},proxy:!0}])})],1),i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[i("show",{attrs:{sale:e.sale},on:{closeShowModal:e.closeShowModal}})],1),i("v-dialog",{attrs:{"max-width":"380"},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[i("v-card",[i("v-card-title",[e._v(" ¿Estas Seguro? "),i("v-spacer"),i("v-icon",{attrs:{"aria-label":"Close"},on:{click:function(t){e.deleteModal=!1}}},[e._v(" mdi-close ")])],1),i("v-card-text",{staticClass:"pb-2 pt-2 text-center"},[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-icon",{staticStyle:{"font-size":"100px",opacity:".5"},attrs:{color:"warning"}},[e._v("mdi-alert-circle-outline")]),i("br"),e._v(" ¡No podrás revertir esto! ")],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-btn",{staticClass:"mr-3",attrs:{color:"red"},on:{click:function(t){e.deleteModal=!1}}},[i("v-icon",{attrs:{left:""}},[e._v("mdi-cancel")]),e._v(" Cancelar ")],1)],1),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-btn",{attrs:{color:"indigo"},on:{click:function(t){return e.deleteSale()}}},[i("v-icon",{attrs:{left:""}},[e._v("mdi-delete")]),e._v(" Si, Eliminar ")],1)],1)],1)],1)],1)],1)],1)},n=[],s=(a("96cf"),a("1da1")),l=a("e39f"),o=a("827f"),r=a("29b2"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("MOSTRANDO CLIENTE")])]),a("v-card-text",[a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-chart-bubble ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.product_name))]),a("v-list-item-subtitle",[t._v("Producto")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-currency-usd-circle ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.unit_price))]),a("v-list-item-subtitle",[t._v("Precio Unitario")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-counter ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.quantity))]),a("v-list-item-subtitle",[t._v("Cantidad")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-currency-usd-circle ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.total))]),a("v-list-item-subtitle",[t._v("Total a pagar")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-account-group ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.customer_name))]),a("v-list-item-subtitle",[t._v("Cliente")])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",{attrs:{color:"info"}},[t._v(" mdi-date ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.sale.created_at))]),a("v-list-item-subtitle",[t._v("Fecha de la venta")])],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"ml-3",attrs:{color:"muted"},on:{click:t.closeShowModal}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v(" CERRAR ")],1),a("v-spacer")],1)],1)},u=[],d={props:{sale:Object},methods:{closeShowModal:function(){this.$emit("closeShowModal")}}},v=d,m=a("2877"),f=a("6544"),_=a.n(f),b=a("8336"),p=a("b0af"),h=a("99d9"),x=a("132d"),w=a("da13"),g=a("5d23"),y=a("34c3"),S=a("2fa4"),k=Object(m["a"])(v,c,u,!1,null,null,null),C=k.exports;_()(k,{VBtn:b["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VIcon:x["a"],VListItem:w["a"],VListItemContent:g["a"],VListItemIcon:y["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VSpacer:S["a"]});var V=a("a189"),M={components:{show:C},mixins:[V["a"]],data:function(){return{search:"",headers:[{text:"ID",value:"id"},{text:"Nombre Producto",align:"start",sortable:!0,value:"product_name"},{text:"Precio Unitario",align:"right",value:"unit_price"},{text:"Cantidad",value:"quantity"},{text:"Nombre Cliente",value:"customer_name"},{text:"Fecha",value:"created_at"},{text:"Total",align:"right",value:"total"},{text:"Acción",value:"actions",sortable:!1}],sales:[],sale:new r["a"]("","","","","","",""),saleId:null,showModal:!1,deleteModal:!1,alert:{state:!1,color:"success",text:"",x:"right",y:"top"},currency:""}},methods:{showSale:function(t){Object.assign(this.sale,t),this.showModal=!0},closeShowModal:function(){this.showModal=!1},openModalDelete:function(t){this.deleteModal=!0,this.saleId=t},loadSales:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].getAllSales();case 3:return a=e.sent,t.sales=a.data.sales,e.next=7,o["a"].getOneConfiguration(1);case 7:i=e.sent,t.currency=i.data.setting.currency,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.showSessionExpiredModal(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},deleteSale:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].deleteSale(t.saleId);case 3:e.sent,t.deleteModal=!1,t.loadSales(),t.alert.color="success",t.alert.text="ÉXITO : Se eliminó correctamente",t.alert.state=!0,e.next=17;break;case 11:e.prev=11,e.t0=e["catch"](0),t.showSessionExpiredModal(e.t0),t.alert.color="error",t.alert.text="ERROR : No se pudo eliminar",t.alert.state=!0;case 17:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},mounted:function(){this.loadSales()}},O=M,j=a("62ad"),T=a("a523"),I=a("8fea"),E=a("169a"),R=a("0fd9"),A=a("8654"),N=a("71d9"),L=a("3a2f"),D=Object(m["a"])(O,i,n,!1,null,null,null);e["default"]=D.exports;_()(D,{VBtn:b["a"],VCard:p["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:j["a"],VContainer:T["a"],VDataTable:I["a"],VDialog:E["a"],VIcon:x["a"],VRow:R["a"],VSpacer:S["a"],VTextField:A["a"],VToolbar:N["a"],VTooltip:L["a"]})},"29b2":function(t,e,a){"use strict";var i=a("d4ec"),n=function t(e,a,n,s,l,o,r){Object(i["a"])(this,t),this.quantity=e,this.total=a,this.product_name=n,this.customer_name=s,this.unit_price=l,this.product_id=o,this.customer_name=r};e["a"]=n},"827f":function(t,e,a){"use strict";var i=a("d4ec"),n=a("bee2"),s=a("eeb9"),l=a("2c6e"),o=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getOneConfiguration",value:function(t){return s["a"].get("/settings/".concat(t),{headers:Object(l["a"])()})}},{key:"updateConfiguration",value:function(t,e){return s["a"].put("/settings/".concat(t),{currency:e.currency,time_jwt:e.time_jwt},{headers:Object(l["a"])()})}}]),t}();e["a"]=new o},e39f:function(t,e,a){"use strict";var i=a("d4ec"),n=a("bee2"),s=a("eeb9"),l=a("2c6e"),o=function(){function t(){Object(i["a"])(this,t)}return Object(n["a"])(t,[{key:"getAllSales",value:function(){return s["a"].get("/sales",{headers:Object(l["a"])()})}},{key:"getOneSale",value:function(t){return s["a"].get("/sales/".concat(t),{headers:Object(l["a"])()})}},{key:"addSale",value:function(t){return s["a"].post("/sales",{quantity:t.quantity,total:t.total,product_id:t.product_id,customer_id:t.customer_id},{headers:Object(l["a"])()})}},{key:"deleteSale",value:function(t){return s["a"].delete("/sales/".concat(t),{headers:Object(l["a"])()})}}]),t}();e["a"]=new o}}]);
//# sourceMappingURL=chunk-5e5c6ce7.395e3489.js.map