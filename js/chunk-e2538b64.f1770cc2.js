(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2538b64"],{"29b2":function(t,e,n){"use strict";var a=n("d4ec"),i=function t(e,n,i,s,r,o,c){Object(a["a"])(this,t),this.quantity=e,this.total=n,this.product_name=i,this.customer_name=s,this.unit_price=r,this.product_id=o,this.customer_name=c};e["a"]=i},"2bfd":function(t,e,n){},"4bd4":function(t,e,n){"use strict";n("4de4"),n("7db0"),n("4160"),n("caad"),n("07ac"),n("2532"),n("159b");var a=n("5530"),i=n("58df"),s=n("7e2b"),r=n("3206");e["a"]=Object(i["a"])(s["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,n=function(t){return t.$watch("hasError",(function(n){e.$set(e.errorBag,t._uid,n)}),{immediate:!0})},a={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=n(t)))})):a.valid=n(t),a},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var n=this.watchers.find((function(t){return t._uid===e._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},"7ebc":function(t,e,n){"use strict";n("b0c0");var a=n("d4ec"),i=n("bee2"),s=n("eeb9"),r=n("2c6e"),o=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,[{key:"getAllProducts",value:function(){return s["a"].get("/products",{headers:Object(r["a"])()})}},{key:"getOneProduct",value:function(t){return s["a"].get("/products/".concat(t),{headers:Object(r["a"])()})}},{key:"addProduct",value:function(t){return s["a"].post("/products",{name:t.name,quantity:t.quantity,unit_price:t.unit_price,total_in_stock:t.total_in_stock,category_id:t.category_id},{headers:Object(r["a"])()})}},{key:"updateProduct",value:function(t,e){return s["a"].put("/products/".concat(t),{name:e.name,quantity:e.quantity,unit_price:e.unit_price,total_in_stock:e.total_in_stock,category_id:e.category_id},{headers:Object(r["a"])()})}},{key:"deleteProduct",value:function(t){return s["a"].delete("/products/".concat(t),{headers:Object(r["a"])()})}}]),t}();e["a"]=new o},e39f:function(t,e,n){"use strict";var a=n("d4ec"),i=n("bee2"),s=n("eeb9"),r=n("2c6e"),o=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,[{key:"getAllSales",value:function(){return s["a"].get("/sales",{headers:Object(r["a"])()})}},{key:"getOneSale",value:function(t){return s["a"].get("/sales/".concat(t),{headers:Object(r["a"])()})}},{key:"addSale",value:function(t){return s["a"].post("/sales",{quantity:t.quantity,total:t.total,product_id:t.product_id,customer_id:t.customer_id},{headers:Object(r["a"])()})}},{key:"deleteSale",value:function(t){return s["a"].delete("/sales/".concat(t),{headers:Object(r["a"])()})}}]),t}();e["a"]=new o},e5ab:function(t,e,n){"use strict";n.r(e);var a=function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("v-container",{attrs:{id:"sale-profile",fluid:"",tag:"section"}},[a("base-material-snackbar",e._b({attrs:{type:e.alert.color},model:{value:e.alert.state,callback:function(t){e.$set(e.alert,"state",t)},expression:"alert.state"}},"base-material-snackbar",(t={},t[e.alert.x]=!0,t[e.alert.y]=!0,t),!1),[e._v(" "+e._s(e.alert.text)+" ")]),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"7"}},[a("base-material-card",{attrs:{color:"indigo"},scopedSlots:e._u([{key:"heading",fn:function(){return[a("div",{staticClass:"display-2 font-weight-light"},[e._v(" AGREGAR ")]),a("div",{staticClass:"subtitle-1 font-weight-light"},[e._v(" Agregar Nueva Venta ")])]},proxy:!0}])},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.addSale()}}},[a("v-container",{staticClass:"py-0"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.products,"item-text":"name","item-value":"id","return-object":"",label:"Selecciona el Producto","prepend-icon":"mdi-chart-bubble",color:"indigo",autofocus:""},model:{value:e.product,callback:function(t){e.product=t},expression:"product"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{color:"indigo","prepend-icon":"mdi-currency-usd-circle",type:"text",label:"Precio Unitario"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{color:"indigo","prepend-icon":"mdi-counter",label:"Cantidad"},model:{value:e.sale.quantity,callback:function(t){e.$set(e.sale,"quantity",t)},expression:"sale.quantity"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-text-field",{attrs:{color:"indigo","prepend-icon":"mdi-currency-usd-circle",label:"Total a pagar",type:"text"},model:{value:e.sale.total,callback:function(t){e.$set(e.sale,"total",t)},expression:"sale.total"}})],1),a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-autocomplete",{attrs:{items:e.customers,"item-text":"name","item-value":"id","return-object":"",label:"Selecciona el Cliente","prepend-icon":"mdi-account",color:"indigo"},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1),e.showErrors?a("v-col",{attrs:{cols:"12"}},[a("v-alert",{attrs:{border:"left",color:"red",type:"warning"}},[a("ul",e._l(e.errors,(function(t,n){return a("li",{key:n},[e._v(" "+e._s(t[0])+" ")])})),0)])],1):e._e(),a("v-col",{staticClass:"text-right",attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"indigo",type:"submit"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-content-save")]),e._v(" Guardar ")],1)],1)],1)],1)],1)],1)],1)],1)],1)},i=[],s=(n("96cf"),n("1da1")),r=n("29b2"),o=n("e39f"),c=n("7ebc"),l=n("aff3"),u=n("a189"),d={mixins:[u["a"]],data:function(){return{sale:new r["a"]("","","","","","",""),alert:{state:!1,color:"success",text:"ÉXITO : La tarea se completo",x:"right",y:"top"},showErrors:!1,errors:{},sessionExpiredModal:!1,products:[],product:{},customers:[],customer:{}}},methods:{loadProductsAndCustomers:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getAllProducts();case 3:return n=e.sent,t.products=n.data.products,e.next=7,l["a"].getAllCustomers();case 7:a=e.sent,t.customers=a.data.customers,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.showSessionExpiredModal(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},addSale:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.sale.product_id=t.product.id,t.sale.customer_id=t.customer.id,e.next=5,o["a"].addSale(t.sale);case 5:e.sent,t.alert.state=!0,t.alert.color="success",t.alert.text="ÉXITO : Se guardaron los datos correctamente",setTimeout((function(){t.$router.push("/dashboard/sales")}),1e3),e.next=19;break;case 12:e.prev=12,e.t0=e["catch"](0),422===e.t0.response.status&&(t.showErrors=!0,t.errors=e.t0.response.data),t.showSessionExpiredModal(e.t0),t.alert.state=!0,t.alert.color="error",t.alert.text="ERROR : No se pudo guardar";case 19:case"end":return e.stop()}}),e,null,[[0,12]])})))()}},mounted:function(){this.loadProductsAndCustomers()}},h=d,f=n("2877"),p=n("6544"),m=n.n(p),v=n("0798"),b=(n("4de4"),n("7db0"),n("c975"),n("d81d"),n("45fc"),n("498a"),n("5530")),g=(n("2bfd"),n("b974")),I=n("8654"),y=n("d9f7"),x=n("80d2"),S=Object(b["a"])(Object(b["a"])({},g["b"]),{},{offsetY:!0,offsetOverflow:!0,transition:!1}),_=g["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:function(t,e,n){return n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},hideNoData:Boolean,menuProps:{type:g["a"].options.props.menuProps.type,default:function(){return S}},noFilter:Boolean,searchInput:{type:String,default:void 0}},data:function(){return{lazySearch:this.searchInput}},computed:{classes:function(){return Object(b["a"])(Object(b["a"])({},g["a"].options.computed.classes.call(this)),{},{"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1})},computedItems:function(){return this.filteredItems},selectedValues:function(){var t=this;return this.selectedItems.map((function(e){return t.getValue(e)}))},hasDisplayedItems:function(){var t=this;return this.hideSelected?this.filteredItems.some((function(e){return!t.hasItem(e)})):this.filteredItems.length>0},currentRange:function(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems:function(){var t=this;return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((function(e){var n=Object(x["q"])(e,t.itemText),a=null!=n?String(n):"";return t.filter(e,String(t.internalSearch),a)}))},internalSearch:{get:function(){return this.lazySearch},set:function(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed:function(){return!1},isDirty:function(){return this.searchIsDirty||this.selectedItems.length>0},isSearching:function(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps:function(){var t=g["a"].options.computed.$_menuProps.call(this);return t.contentClass="v-autocomplete__content ".concat(t.contentClass||"").trim(),Object(b["a"])(Object(b["a"])({},S),t)},searchIsDirty:function(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem:function(){var t=this;return this.multiple?null:this.selectedItems.find((function(e){return t.valueComparator(t.getValue(e),t.getValue(t.internalValue))}))},listData:function(){var t=g["a"].options.computed.listData.call(this);return t.props=Object(b["a"])(Object(b["a"])({},t.props),{},{items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch}),t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused:function(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive:function(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items:function(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput:function(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created:function(){this.setSearch()},methods:{onFilteredItemsChanged:function(t,e){var n=this;t!==e&&(this.setMenuIndex(-1),this.$nextTick((function(){n.internalSearch&&(1===t.length||n.autoSelectFirst)&&(n.$refs.menu.getTiles(),n.setMenuIndex(0))})))},onInternalSearchChanged:function(){this.updateMenuDimensions()},updateMenuDimensions:function(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex:function(t){this.searchIsDirty||(this.multiple&&t===x["w"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===x["w"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==x["w"].backspace&&t!==x["w"].delete||this.deleteCurrentItem())},deleteCurrentItem:function(){var t=this.selectedIndex,e=this.selectedItems[t];if(this.isInteractive&&!this.getDisabled(e)){var n=this.selectedItems.length-1;if(-1!==this.selectedIndex||0===n){var a=this.selectedItems.length,i=t!==a-1?t:t-1,s=this.selectedItems[i];s?this.selectItem(e):this.setValue(this.multiple?[]:void 0),this.selectedIndex=i}else this.selectedIndex=n}},clearableCallback:function(){this.internalSearch=void 0,g["a"].options.methods.clearableCallback.call(this)},genInput:function(){var t=I["a"].options.methods.genInput.call(this);return t.data=Object(y["a"])(t.data,{attrs:{"aria-activedescendant":Object(x["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(x["o"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot:function(){var t=g["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections:function(){return this.hasSlot||this.multiple?g["a"].options.methods.genSelections.call(this):[]},onClick:function(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput:function(t){if(!(this.selectedIndex>-1)&&t.target){var e=t.target,n=e.value;e.value&&this.activateMenu(),this.internalSearch=n,this.badInput=e.validity&&e.validity.badInput}},onKeyDown:function(t){var e=t.keyCode;g["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown:function(t){},onTabDown:function(t){g["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown:function(t){t.preventDefault(),this.activateMenu()},selectItem:function(t){g["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems:function(){g["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch:function(){var t=this;this.$nextTick((function(){t.multiple&&t.internalSearch&&t.isMenuActive||(t.internalSearch=!t.selectedItems.length||t.multiple||t.hasSlot?null:t.getText(t.selectedItem))}))},updateSelf:function(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem:function(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy:function(t){if(-1!==this.selectedIndex){var e=this.selectedItems[this.selectedIndex],n=this.getText(e);t.clipboardData.setData("text/plain",n),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}}}),w=n("8336"),O=n("62ad"),j=n("a523"),k=n("4bd4"),C=n("132d"),V=n("0fd9"),D=Object(f["a"])(h,a,i,!1,null,null,null);e["default"]=D.exports;m()(D,{VAlert:v["a"],VAutocomplete:_,VBtn:w["a"],VCol:O["a"],VContainer:j["a"],VForm:k["a"],VIcon:C["a"],VRow:V["a"],VTextField:I["a"]})}}]);
//# sourceMappingURL=chunk-e2538b64.f1770cc2.js.map