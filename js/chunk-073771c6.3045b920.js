(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-073771c6"],{"0344":function(t,e,i){"use strict";i.r(e);var o=function(){var t,e=this,i=e.$createElement,o=e._self._c||i;return o("v-container",{attrs:{id:"regular-tables",fluid:"",tag:"section"}},[o("base-material-snackbar",e._b({attrs:{type:e.alert.color},model:{value:e.alert.state,callback:function(t){e.$set(e.alert,"state",t)},expression:"alert.state"}},"base-material-snackbar",(t={},t[e.alert.x]=!0,t[e.alert.y]=!0,t),!1),[e._v(" "+e._s(e.alert.text)+" ")]),o("base-v-component",{attrs:{heading:"Administrar Clientes",link:"components/simple-tables"}}),o("base-material-card",{staticClass:"px-5 py-3",attrs:{color:"primary",icon:"mdi-account-group",title:"CLIENTES"}},[o("v-data-table",{attrs:{headers:e.headers,items:e.customers,search:e.search,id:"dtCliente"},scopedSlots:e._u([{key:"top",fn:function(){return[o("v-toolbar",{staticClass:"mt-6 toolbar",attrs:{flat:""}},[o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-spacer"),o("v-btn",{attrs:{color:"indigo",to:"/dashboard/customers/create"}},[o("v-icon",{attrs:{color:"white",left:""}},[e._v("mdi-plus")]),e._v(" AGREGAR ")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({attrs:{color:"elevation-2 info mx-2",small:""},on:{click:function(t){return e.showCustomer(i)}}},"v-btn",a,!1),s),[o("v-icon",[e._v(" mdi-eye ")])],1)]}}],null,!0)},[o("span",[e._v("Mostrar")])]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"elevation-2 mx-2",attrs:{color:"orange",small:"",to:"/dashboard/customers/edit/"+i.id}},"v-btn",a,!1),s),[o("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[o("span",[e._v("Editar")])]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,a=t.attrs;return[o("v-btn",e._g(e._b({staticClass:"elevation-2 mx-2",attrs:{color:"red",small:""},on:{click:function(t){return e.openModalDelete(i.id)}}},"v-btn",a,!1),s),[o("v-icon",[e._v(" mdi-delete ")])],1)]}}],null,!0)},[o("span",[e._v("Eliminar")])])]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:e.loadCustomers}},[e._v("Actualizar")])]},proxy:!0}])})],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("show",{attrs:{customer:e.customer},on:{closeShowModal:e.closeShowModal}})],1),o("v-dialog",{attrs:{"max-width":"380"},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[o("v-card",[o("v-card-title",[e._v(" ¿Estas Seguro? "),o("v-spacer"),o("v-icon",{attrs:{"aria-label":"Close"},on:{click:function(t){e.deleteModal=!1}}},[e._v(" mdi-close ")])],1),o("v-card-text",{staticClass:"pb-2 pt-2 text-center"},[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("v-icon",{staticStyle:{"font-size":"100px",opacity:".5"},attrs:{color:"warning"}},[e._v("mdi-alert-circle-outline")]),o("br"),e._v(" ¡No podrás revertir esto! ")],1)],1),o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6"}},[o("v-btn",{staticClass:"mr-3",attrs:{color:"red"},on:{click:function(t){e.deleteModal=!1}}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-cancel")]),e._v(" Cancelar ")],1)],1),o("v-col",{attrs:{cols:"12",sm:"6"}},[o("v-btn",{attrs:{color:"indigo"},on:{click:function(t){return e.deleteCustomer()}}},[o("v-icon",{attrs:{left:""}},[e._v("mdi-delete")]),e._v(" Si, Eliminar ")],1)],1)],1)],1)],1)],1)],1)},s=[],a=(i("96cf"),i("1da1")),l=i("aff3"),r=i("1645"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[t._v("MOSTRANDO CLIENTE")])]),i("v-card-text",[i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-face ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.name))]),i("v-list-item-subtitle",[t._v("Nombre")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-email ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.email))]),i("v-list-item-subtitle",[t._v("Email")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-phone ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.phone))]),i("v-list-item-subtitle",[t._v("Telefono")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-domain ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.company))]),i("v-list-item-subtitle",[t._v("Compania")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-earth ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.country))]),i("v-list-item-subtitle",[t._v("Pais")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-city ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.city))]),i("v-list-item-subtitle",[t._v("Ciudad")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-monitor ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.website))]),i("v-list-item-subtitle",[t._v("Sitio Web")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-web ")])],1),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.customer.social))]),i("v-list-item-subtitle",[t._v("Redes Sociales")])],1)],1),i("v-list-item",[i("v-list-item-icon",[i("v-icon",{attrs:{color:"info"}},[t._v(" mdi-history ")])],1),i("v-list-item-content",[i("p",[t._v(t._s(t.customer.history))]),i("v-list-item-subtitle",[t._v("Historial del cliente")])],1)],1)],1),i("v-card-actions",[i("v-btn",{staticClass:"ml-3",attrs:{color:"muted"},on:{click:t.closeShowModal}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-cancel")]),t._v(" CERRAR ")],1),i("v-spacer"),i("v-btn",{attrs:{color:"warning",to:"/dashboard/customers/edit/"+t.customer.id}},[i("v-icon",{attrs:{left:""}},[t._v("mdi-pencil")]),t._v(" EDITAR ")],1)],1)],1)},c=[],v={props:{customer:Object},methods:{closeShowModal:function(){this.$emit("closeShowModal")}}},m=v,d=i("2877"),u=i("6544"),h=i.n(u),p=i("8336"),b=i("b0af"),_=i("99d9"),f=i("132d"),x=i("da13"),w=i("5d23"),C=i("34c3"),y=i("2fa4"),g=Object(d["a"])(m,n,c,!1,null,null,null),k=g.exports;h()(g,{VBtn:p["a"],VCard:b["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VIcon:f["a"],VListItem:x["a"],VListItemContent:w["a"],VListItemIcon:C["a"],VListItemSubtitle:w["b"],VListItemTitle:w["c"],VSpacer:y["a"]});var M=i("a189"),V={components:{show:k},mixins:[M["a"]],data:function(){return{search:"",headers:[{text:"ID",value:"id"},{text:"Nombre",align:"start",sortable:!0,value:"name"},{text:"Email",value:"email"},{text:"Telefono",value:"phone"},{text:"Ciudad",value:"city"},{text:"Acción",value:"actions",sortable:!1}],customers:[],customer:new r["a"]("","","","","","","","","","",1),customerId:null,showModal:!1,deleteModal:!1,alert:{state:!1,color:"success",text:"",x:"right",y:"top"}}},methods:{showCustomer:function(t){Object.assign(this.customer,t),this.showModal=!0},closeShowModal:function(){this.showModal=!1},openModalDelete:function(t){this.deleteModal=!0,this.customerId=t},loadCustomers:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].getAllCustomers();case 3:i=e.sent,t.customers=i.data.customers,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.showSessionExpiredModal(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},deleteCustomer:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l["a"].deleteCustomer(t.customerId);case 3:e.sent,t.deleteModal=!1,t.loadCustomers(),t.alert.color="success",t.alert.text="ÉXITO : Se eliminó correctamente",t.alert.state=!0,e.next=17;break;case 11:e.prev=11,e.t0=e["catch"](0),t.showSessionExpiredModal(e.t0),t.alert.color="error",t.alert.text="ERROR : No se pudo eliminar",t.alert.state=!0;case 17:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},mounted:function(){this.loadCustomers()}},S=V,E=i("62ad"),I=i("a523"),R=i("8fea"),T=i("169a"),O=i("0fd9"),A=i("8654"),j=i("71d9"),D=i("3a2f"),L=Object(d["a"])(S,o,s,!1,null,null,null);e["default"]=L.exports;h()(L,{VBtn:p["a"],VCard:b["a"],VCardText:_["b"],VCardTitle:_["c"],VCol:E["a"],VContainer:I["a"],VDataTable:R["a"],VDialog:T["a"],VIcon:f["a"],VRow:O["a"],VSpacer:y["a"],VTextField:A["a"],VToolbar:j["a"],VTooltip:D["a"]})},1645:function(t,e,i){"use strict";i("b0c0");var o=i("d4ec"),s=function t(e,i,s,a,l,r,n,c,v,m){var d=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;Object(o["a"])(this,t),this.name=e,this.email=i,this.phone=s,this.company=a,this.country=l,this.city=r,this.website=n,this.social=c,this.history=v,this.last_user=m,this.is_deleted=d};e["a"]=s}}]);
//# sourceMappingURL=chunk-073771c6.3045b920.js.map